// INVOKED FUNCTION
(function () {
	// mobile menu
	const [hamburger, menu] = [document.querySelector('.hamburger'), document.querySelector('.menu')]
	// events
	hamburger.addEventListener('click', () => {
		hamburger.classList.toggle('is-active');
		menu.classList.toggle('menu--open');
	})
	//-------------------------------------------
	// scroll to section
	const headerNavLinks = document.querySelectorAll('.header .menu__link');
	const btnTop = document.querySelector('.btn-top');
	const footerNavLinks = document.querySelectorAll('.footer__menu .menu__link');
	// events
	headerNavLinks.forEach(function (target) {
		target.addEventListener('click', function (e) {
			e.preventDefault();
			smoothScroll.scrollTo(this.getAttribute('href'), 800);
			menu.classList.remove('menu--open');
			hamburger.classList.remove('is-active')
		})
	});
	footerNavLinks.forEach(function (target) {
		target.addEventListener('click', function (e) {
			e.preventDefault();
			smoothScroll.scrollTo(this.getAttribute('href'), 800);
		})
	});
	btnTop.addEventListener('click', function (event) {
		event.preventDefault();
		smoothScroll.scrollTo(this.getAttribute('href'), 800);
	});
	//-------------------------------------------
	const promoSlider = new Swiper('.swiper-container', {
		pagination: {
			el: '.swiper-pagination',
			clickable: true,
		},
	});

	//-------------------------------------------
	// mixitup
	const containerEl = document.querySelector('.blog-list');
	const mixer = mixitup(containerEl);
	// show btnTop
	const section = document.querySelector('.promo').offsetHeight;
	let scrollPosition = window.scrollY;
	// show button
	window.addEventListener('scroll', () => {
		scrollPosition = window.scrollY;
		scrollPosition > section - 200 ?
			btnTop.classList.add('btn-top--show') :
			btnTop.classList.remove('btn-top--show')
	});
})();